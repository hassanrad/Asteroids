<!DOCTYPE html>
<html>

<script src="https://www.gstatic.com/firebasejs/3.3.0/firebase.js"></script>
<script>
  // Initialize Firebase
  var config = {
    apiKey: "AIzaSyDzH1Ewxtt0PqbR9Vf6cZLenj_U9k35KEg",
    authDomain: "asteroids-highscore.firebaseapp.com",
    databaseURL: "https://asteroids-highscore.firebaseio.com",
    storageBucket: "asteroids-highscore.appspot.com",
  };
  firebase.initializeApp(config);
</script>

<script src="./src/audio.js"></script>
<script src="./src/run-game.js"></script>
<script src="./src/game.js"></script>
<script src="./src/player.js"></script>
<script src="./src/asteroid.js"></script>
<script src="./src/bullet.js"></script>
<script src="./src/keyboard.js"></script>
<script src="./src/numberGenerator.js"></script>
<script src="./src/collision.js"></script>
<script src="./src/powerUp.js"></script>

<style>
  canvas {
    float: left
  }
  #gameCanvas {
    background-image: url('star-background.jpg');
  }

  #highScores {
    float: left;
    margin: 20px
  }

  #score {
    list-style-type: none;
  }

  #input {
    margin: 10px;
  }
</style>

  <body>
    <canvas id="gameCanvas" width="800" height="600"> </canvas>
    <div id="highScores" >
      <label id="input">
        Name:
        <input type="text" id='name' value="Player"></input>
      </label>
    <ul id="score"></ul>
    </div>

  </body>
  <script>
  var highScores = firebase.database().ref('highscore');
  highScores.on('value', function(snapshot) {
    var leaderBoard = Object.keys(snapshot.val()).map(function (key) {
        return snapshot.val()[key]
    })

document.getElementById("score").innerHTML = leaderBoard.sort(function (a, b) { return b.level - a.level })
    .map(function (entry) {
    return "<li>" + entry.name + ": " + entry.level + "</li>"
  })

  });
  </script>
</html>
